# Requirements Document: AI-ассистент рекрутера

## Introduction

AI-ассистент рекрутера — это диалоговый агент принятия решений, встроенный в hh.qbs.ru, который работает поверх данных компании, вакансий, откликов и рынка. Он не заменяет рекрутера, а берёт на себя операционные и аналитические решения, оставляя человеку контроль. Система включает диалоговый интерфейс для поиска кандидатов, аналитику вакансий, автогенерацию и оптимизацию вакансий, автопереписку с кандидатами и автономное принятие решений по правилам.

## Glossary

- **AI_Agent**: Диалоговый агент, который понимает контекст компании, вакансии, этапа найма и рынка
- **Recruiter**: Пользователь системы, который взаимодействует с AI-агентом
- **Vacancy**: Вакансия компании с описанием, требованиями и настройками
- **Candidate**: Кандидат, откликнувшийся на вакансию или найденный через поиск
- **Response**: Отклик кандидата на вакансию
- **Conversation_Context**: Контекст диалога, включающий компанию, вакансию, этап найма
- **Action_Chain**: Многошаговая цепочка действий AI для выполнения запроса
- **Rule_Engine**: Система правил для автономного принятия решений
- **Autonomy_Level**: Уровень автономности AI (советует / действует с подтверждением / действует самостоятельно)
- **Fit_Score**: Оценка соответствия кандидата вакансии (0-100%)
- **Market_Analytics**: Аналитика рынка труда (зарплаты, конкуренты, тренды)
- **A_B_Test**: Тестирование нескольких вариантов вакансии для выбора лучшего
- **Personalized_Message**: Персонализированное сообщение кандидату на основе его резюме

## Requirements

### Requirement 1: Диалоговый интерфейс агента

**User Story:** Как рекрутер, я хочу общаться с AI обычным текстом, чтобы быстро получать ответы и выполнять действия без изучения интерфейса.

#### Acceptance Criteria

1. WHEN рекрутер отправляет текстовое сообщение THEN AI_Agent SHALL понять намерение и выполнить соответствующее действие
2. WHEN AI_Agent получает запрос THEN он SHALL учитывать Conversation_Context (компания, вакансия, этап найма)
3. WHEN AI_Agent выполняет Action_Chain THEN он SHALL показывать промежуточные результаты рекрутеру
4. WHEN AI_Agent завершает действие THEN он SHALL предоставить объяснение своего решения
5. THE AI_Agent SHALL поддерживать историю диалога для контекста последующих запросов

### Requirement 2: Поиск и анализ кандидатов

**User Story:** Как рекрутер, я хочу находить подходящих кандидатов через естественный язык, чтобы не тратить время на сложные фильтры.

#### Acceptance Criteria

1. WHEN рекрутер запрашивает поиск кандидатов (например, "Найди 5 кандидатов, готовых выйти за 2 недели") THEN AI_Agent SHALL выполнить поиск с учётом критериев
2. WHEN AI_Agent находит кандидатов THEN он SHALL вернуть список с объяснением почему каждый выбран
3. WHEN AI_Agent анализирует кандидата THEN он SHALL определить подтверждённую доступность и риск-факторы
4. WHEN AI_Agent представляет кандидата THEN он SHALL предложить рекомендацию по действию (пригласить / уточнить / отклонить)
5. THE AI_Agent SHALL рассчитывать Fit_Score для каждого кандидата относительно вакансии

### Requirement 3: Аналитика вакансий

**User Story:** Как рекрутер, я хочу понимать почему у вакансии мало откликов, чтобы улучшить её эффективность.

#### Acceptance Criteria

1. WHEN рекрутер спрашивает "Почему у нас мало откликов?" THEN AI_Agent SHALL проанализировать вакансию и рынок
2. WHEN AI_Agent анализирует вакансию THEN он SHALL проверить: описание, зарплатную вилку, требования vs рынок, время публикации, конкурентов
3. WHEN AI_Agent находит проблемы THEN он SHALL сформировать причинно-следственные объяснения
4. WHEN AI_Agent выявляет проблему THEN он SHALL предложить конкретные действия для исправления
5. THE AI_Agent SHALL сравнивать вакансию с Market_Analytics для объективной оценки

### Requirement 4: Автогенерация и оптимизация вакансий

**User Story:** Как рекрутер, я хочу чтобы AI создавал и оптимизировал вакансии под hh-алгоритмы, чтобы получать больше релевантных откликов.

#### Acceptance Criteria

1. WHEN рекрутер запрашивает создание вакансии THEN AI_Agent SHALL сгенерировать заголовок, описание, требования, преимущества
2. WHEN AI_Agent генерирует вакансию THEN он SHALL оптимизировать текст под SEO и hh-алгоритмы
3. WHEN AI_Agent создаёт вакансию THEN он SHALL предложить A/B варианты заголовка
4. WHEN A_B_Test запущен THEN система SHALL отслеживать конверсию каждого варианта
5. WHEN A_B_Test завершён THEN система SHALL автоматически выбрать лучший вариант

### Requirement 5: Автопереписка с кандидатами

**User Story:** Как рекрутер, я хочу чтобы AI вёл первичную коммуникацию с кандидатами, чтобы освободить время для важных задач.

#### Acceptance Criteria

1. WHEN кандидат откликается на вакансию THEN AI_Agent SHALL отправить Personalized_Message с учётом резюме
2. WHEN AI_Agent отправляет сообщение THEN оно SHALL учитывать опыт кандидата, стадию процесса и стиль компании
3. WHEN AI_Agent ведёт переписку THEN он SHALL автоматизировать: первичный ответ, уточняющие вопросы, приглашение на интервью, follow-ups, вежливые отказы
4. WHEN рекрутер настраивает автопереписку THEN он SHALL иметь возможность утверждать шаблоны и включать/выключать автодействия
5. THE AI_Agent SHALL логировать все отправленные сообщения для просмотра рекрутером

### Requirement 6: Автономное принятие решений

**User Story:** Как рекрутер, я хочу настроить правила для автоматических действий AI, чтобы ускорить процесс найма.

#### Acceptance Criteria

1. WHEN компания настраивает Rule_Engine THEN система SHALL применять правила к входящим откликам
2. WHEN Fit_Score кандидата > порога THEN AI_Agent SHALL выполнить действие согласно правилу (пригласить / уточнить / отклонить)
3. WHEN AI_Agent принимает решение THEN он SHALL объяснить причину и залогировать действие
4. WHEN компания выбирает Autonomy_Level THEN система SHALL соблюдать выбранный уровень (советует / с подтверждением / самостоятельно)
5. THE AI_Agent SHALL уметь автоматически приостанавливать вакансию при достижении лимита откликов

### Requirement 7: Контекстное понимание

**User Story:** Как рекрутер, я хочу чтобы AI понимал контекст моей работы, чтобы давать релевантные ответы без лишних уточнений.

#### Acceptance Criteria

1. WHEN рекрутер работает с конкретной вакансией THEN AI_Agent SHALL автоматически учитывать её в контексте
2. WHEN рекрутер переключается между вакансиями THEN AI_Agent SHALL обновить Conversation_Context
3. WHEN AI_Agent отвечает на вопрос THEN он SHALL использовать данные компании, вакансии и истории найма
4. THE AI_Agent SHALL помнить предыдущие решения и рекомендации в рамках сессии
5. THE AI_Agent SHALL адаптировать стиль общения под настройки компании

### Requirement 8: Интеграция с данными

**User Story:** Как рекрутер, я хочу чтобы AI имел доступ ко всем данным системы, чтобы давать полные и точные ответы.

#### Acceptance Criteria

1. WHEN AI_Agent выполняет запрос THEN он SHALL иметь доступ к: откликам, статусам кандидатов, истории найма, аналитике hh.ru
2. WHEN AI_Agent формирует запросы THEN он SHALL использовать внутренние сервисы: поиск кандидатов, фильтрация, скоринг
3. WHEN AI_Agent анализирует рынок THEN он SHALL использовать Market_Analytics
4. THE AI_Agent SHALL кешировать часто используемые данные для быстрого ответа
5. THE AI_Agent SHALL обновлять данные в реальном времени при изменениях

### Requirement 9: Безопасность и контроль

**User Story:** Как администратор, я хочу контролировать действия AI, чтобы предотвратить ошибки и нарушения.

#### Acceptance Criteria

1. WHEN AI_Agent выполняет действие THEN система SHALL проверить права пользователя на это действие
2. WHEN AI_Agent отправляет сообщение кандидату THEN система SHALL проверить что сообщение соответствует политикам компании
3. WHEN AI_Agent принимает автономное решение THEN система SHALL залогировать его в audit log
4. THE система SHALL позволять отменить автоматическое действие в течение настраиваемого периода
5. THE система SHALL ограничивать количество автоматических действий в единицу времени (rate limiting)

### Requirement 10: Обратная связь и обучение

**User Story:** Как рекрутер, я хочу чтобы AI учился на моих решениях, чтобы со временем давать лучшие рекомендации.

#### Acceptance Criteria

1. WHEN рекрутер принимает или отклоняет рекомендацию AI THEN система SHALL сохранить это как feedback
2. WHEN AI_Agent делает рекомендацию THEN он SHALL учитывать историю feedback от этого рекрутера
3. WHEN AI_Agent ошибается THEN рекрутер SHALL иметь возможность указать на ошибку
4. THE система SHALL отслеживать метрики качества рекомендаций AI
5. THE система SHALL использовать feedback для улучшения промптов и правил


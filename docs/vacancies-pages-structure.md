# Структура страниц Vacancies

Все страницы вакансий следуют единому стилю shadcn/ui с использованием PageHeader для консистентного UX.

## Страницы

### 1. Список вакансий (`/vacancies/page.tsx`)

**Назначение:** Главная страница со списком всех вакансий workspace

**Компоненты:**
- `PageHeader` с кнопками "Создать вакансию" и "Синхронизировать"
- `VacancyStats` - карточки со статистикой (всего, активных, откликов, новых)
- Фильтры и поиск:
  - Поиск по названию/региону
  - Фильтр по источнику (HH, Kwork, FL.ru и т.д.)
  - Фильтр по статусу (активные/неактивные)
  - Фильтр по диапазону дат
  - Сортировка (по дате, откликам, новым, просмотрам, названию)
- Таблица с вакансиями
- Функция "Сдружить" для объединения вакансий

**Особенности:**
- Responsive дизайн с адаптивными колонками
- Skeleton загрузка
- Empty state для пустого списка
- Счетчик найденных вакансий
- Tabular numbers для числовых данных

### 2. Создание вакансии (`/vacancies/create/page.tsx`)

**Назначение:** Форма создания новой вакансии

**Компоненты:**
- `PageHeader` с кнопкой "Назад к списку"
- `VacancyForm` - форма с полями:
  - Название (обязательно)
  - Источник (select, обязательно)
  - Регион (опционально)
  - Ссылка на вакансию (URL, опционально)
  - Описание (textarea, опционально)

**Особенности:**
- Центрированная форма (max-w-3xl)
- Валидация через Zod
- Toast уведомления
- Автоматический редирект после создания
- Loading состояние кнопки с текстом "Создание…"

### 3. Детали вакансии (`/vacancies/[id]/detail/page.tsx`)

**Назначение:** Подробная информация о вакансии

**Компоненты:**
- `PageHeader` с названием вакансии и кнопками "К списку" и "Редактировать"
- `VacancyAnalytics` - аналитика по откликам (если доступна)
- Карточка с информацией:
  - Badges (источник, статус, регион)
  - Кнопка "Открыть на платформе"
  - `VacancyStats` - статистика (просмотры, отклики, новые, в работе)
  - Описание вакансии (HTML контент)
- `VacancyRequirements` - требования (если есть)

**Особенности:**
- Skeleton для загрузки
- Not found state
- Безопасный рендеринг HTML через dangerouslySetInnerHTML
- Prose стили для описания
- Gradient фон карточки

### 4. Редактирование вакансии (`/vacancies/[id]/edit/page.tsx`)

**Назначение:** Форма редактирования существующей вакансии

**Компоненты:**
- `PageHeader` с кнопкой "Назад к вакансии"
- `VacancyForm` с предзаполненными данными

**Особенности:**
- Переиспользование компонента VacancyForm
- Skeleton для загрузки
- Not found state
- Автоматический редирект на страницу деталей после сохранения
- Loading состояние кнопки с текстом "Сохранение…"

## Общие принципы

### Доступность (A11y)
- Все кнопки имеют `aria-label`
- Иконки помечены `aria-hidden="true"`
- Семантические HTML элементы
- Keyboard navigation support
- Focus management

### UX паттерны
- Consistent spacing (px-4 py-6 lg:px-6)
- Responsive breakpoints (sm, md, lg)
- Loading states с Skeleton
- Empty states с понятными сообщениями
- Toast notifications для feedback
- Ellipsis (…) для loading состояний
- Tabular numbers для числовых данных

### Навигация
- Breadcrumb через PageHeader
- Back buttons на всех подстраницах
- Deep linking через URL параметры
- Cmd/Ctrl+Click support для ссылок

### Производительность
- Оптимистичные обновления через TanStack Query
- Инвалидация кэша после мутаций
- Условные запросы с enabled флагом
- Мемоизация фильтрованных данных

## Компоненты

### VacancyForm
Переиспользуемая форма для создания/редактирования:
- Props: `initialData`, `vacancyId`, `onSuccess`
- Валидация через Zod schema
- React Hook Form для управления состоянием
- Автоматическое определение create/update режима

### VacancyStats (список)
Карточки статистики для страницы списка:
- Всего вакансий
- Активные вакансии
- Всего откликов
- Новые отклики
- Skeleton состояния

### VacancyStats (детали)
Статистика для конкретной вакансии:
- Просмотры
- Отклики
- Новые отклики
- Резюме в работе

## Стилизация

### Цветовая схема
- Primary для активных элементов
- Muted для вторичной информации
- Green для новых откликов
- Gradient backgrounds для карточек

### Типографика
- Заголовки: text-lg/xl font-semibold
- Описания: text-sm text-muted-foreground
- Prose для HTML контента
- Tabular numbers для чисел

### Spacing
- Gaps: gap-2, gap-3, gap-4, gap-6
- Padding: p-4, p-6, px-4 py-6
- Margins: mb-3, mb-4
- Responsive: md:gap-6, lg:px-6

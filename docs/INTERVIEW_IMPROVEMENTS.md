# Улучшения интервью

## Добавлена информация о вакансии/задании на странице чата

### Что сделано

На странице чата интервью (`/interview/[token]/chat`) теперь отображается карточка с информацией о вакансии или разовом задании в стиле shadcn/ui.

### Дизайн

**Стиль shadcn/ui:**
- Современный card-компонент с тенями и скругленными углами
- Backdrop blur эффект для хедера и футера
- Мягкий фон `bg-muted/30` для всей страницы
- Увеличенные иконки и улучшенная типографика
- Badge компоненты для тегов и типа вакансии/задания
- Адаптивные отступы и размеры

**Улучшения UX:**
- Контент ограничен по ширине (`max-w-4xl`) и отцентрирован
- Полупрозрачный хедер и футер с эффектом размытия
- Четкая визуальная иерархия
- Оптимальная читаемость на всех устройствах

### Изменения

#### API

**Новый endpoint**: `freelancePlatforms.getInterviewContext`

- Получает информацию о вакансии или задании по `conversationId`
- Возвращает:
  - Для вакансий: название, описание, требования, стек технологий, опыт
  - Для заданий: название, описание, требования, бюджет, дедлайн, срок выполнения

**Файлы**:
- `packages/api/src/routers/freelance-platforms/get-interview-context.ts` - новый endpoint
- `packages/api/src/routers/freelance-platforms/index.ts` - добавлен экспорт

#### Frontend

**Новый компонент**: `InterviewContextCard`

- Использует shadcn/ui компоненты (Card, Badge)
- Отображает карточку с информацией о вакансии/задании
- Адаптивный дизайн (мобильные и десктопные устройства)
- Показывает:
  - Иконку в скругленном контейнере с кольцом
  - Badge с типом (вакансия/задание)
  - Название (крупный, жирный шрифт)
  - Описание (с ограничением в 2 строки)
  - Бюджет с иконкой (для заданий)
  - Дедлайн и срок с иконками (для заданий)
  - Опыт с иконкой (для вакансий)
  - Стек технологий (до 6 badge-ей)

**Обновленный компонент**: `InterviewChat`

- Добавлен запрос контекста интервью
- Улучшенный дизайн в стиле shadcn/ui
- Backdrop blur для хедера и футера
- Мягкий фон страницы
- Все секции отцентрированы с `max-w-4xl`
- Увеличенные отступы и размеры элементов

**Обновленная страница**: `interview/[token]/chat/page.tsx`

- Изменен фон на `bg-muted/30`

**Файлы**:
- `apps/app/src/components/ai-chat/interview-context-card.tsx` - новый компонент
- `apps/app/src/components/ai-chat/interview-chat.tsx` - обновлен
- `apps/app/src/components/ai-chat/index.ts` - добавлен экспорт
- `apps/app/src/app/interview/[token]/chat/page.tsx` - обновлен фон

### Доступность

- Иконки имеют `aria-hidden="true"`
- Семантическая разметка (заголовки, параграфы)
- Адаптивные размеры шрифтов (≥16px на мобильных)
- Достаточный контраст цветов
- Правильная иерархия заголовков

### Производительность

- Данные загружаются параллельно с историей чата
- Показывается общий индикатор загрузки
- Минимальное количество ре-рендеров
- Оптимизированные анимации (backdrop-blur)

### Визуальные улучшения

- **Хедер**: Полупрозрачный с backdrop blur, увеличенная иконка (40px)
- **Карточка контекста**: Card компонент без тени, увеличенная иконка (48px)
- **Фон**: Мягкий `bg-muted/30` вместо серого
- **Футер**: Полупрозрачный с backdrop blur
- **Типографика**: Улучшенные размеры и веса шрифтов
- **Spacing**: Консистентные отступы по всей странице
